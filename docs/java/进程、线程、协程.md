---
title: 进程、线程、协程
# 禁用目录
toc: true
comments: true
weight: 1
---

# 能够无限创建进程吗？线程呢？协程呢？




# 虚拟线程
平台线程（我们平时用的）开销很大，和os相关。


```text
用户空间：JVM——Platform Thread
-----------------------------
内核空间：Kernel——Os Thread
```

例如servlet container一样，在我们请求的时候，会给当前请求用一个平台线程进行处理，池化分配。

也就是说，在大量创建平台线程，会有限制。

```java
Thread.ofVirtual().start(
()-> {
 ....
}
)
```

默认虚拟线程，是依赖平台线程的，ForkJoinPool。

## 适用场景
- 虚拟线程适用于执行阻塞式任务，在阻塞期间，可以将CPU资源让给其他任务
- 虚拟线程不适合cpu密集场景或者非阻塞任务
- 虚拟线程是轻量级资源，用完即抛，不需要池化
- 通常我们不需要直接适用虚拟线程，Tomcat、Jetty、netty、Springboot都已经支持虚拟线程


