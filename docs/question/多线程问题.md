---
title: 多线程问题
# 禁用目录
toc: true
comments: true
weight: 1
---

```shell
实现一个生产者、消费者场景。假设现在有一个任务调度系统负责处理数据，A线程负责从DB里拉待处理
的任务放到队列；
B线程组负责从队列中处理任务；由于任务处理量较大，所以B线程会将任务进行拆分子线程并行处理。
当所有子线程处理完成后，由B线程汇总结果并统一落库。
要求：
1、A线程组负责生产数据data；
2、B线程组负责消费data数据；A、B线程组要实现阻塞；请尽量考虑异常场景的处理；
3、B线程组的一个处理线程在获取到一个数据后，需要再拆分5个子线程并行处理数据，
当5个子线程全部处理完成，B的处理线程将结果合并；请尽量考虑异常场景的处理
```